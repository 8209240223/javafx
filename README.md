# javafx
# 塔防肉鸽游戏项目

## 项目概述
一个结合塔防与肉鸽元素的游戏。玩家需操控角色保护主地图核心防御塔，探索副本地图获取资源，升级武器，击败最终BOSS通关。

## 项目设计

### 底层游戏框架
- **实体基类（Entity）**：基础属性与方法。
- **场景容器（SceneManager）**：管理场景与切换。
- **资源管理器（ResourceLoader）**：预加载资源，提供获取接口。

### 核心功能
- **怪物与波次系统**：波次管理器控制怪物生成，怪物AI实现基础移动与攻击逻辑。
- **武器与战斗系统**：武器基类定义属性与方法，初始武器实现差异化攻击。
- **副本与资源系统**：副本传送门激活条件，副本场景设计与金币奖励机制。

### 高级功能
- **武器进化**：升级框架与分支选择逻辑，多阶段进化提升武器性能。
- **难度适配**：基于玩家数量与波次动态调整怪物属性。
- **联机功能**：房间系统支持多人协作，同步关键数据优化网络体验。

### 体验优化
- **新手引导**：步骤提示框引导核心操作，完成给予金币奖励。
- **战斗反馈**：怪物受击闪烁红光，死亡播放粒子特效；武器升级显示属性提升弹窗。
- **节奏控制**：波次间隙随难度增加微调，副本时长控制在1-2分钟。

## 技术栈
- 编程语言：Java
- UI框架：JavaFX
- 构建工具：Maven
- 版本控制：Git + Gitee
- 开发工具：IntelliJ IDEA
- 资源管理：Tiled（地图编辑）、自研资源加载器

## 团队分工（5人8天计划）
### 第1天
- 全员：游戏原型与核心机制讨论确定
- 成员1：项目架构设计、Git仓库搭建
- 成员2：基础UI框架搭建（登录/主界面）
- 成员3：角色与武器基础类设计
- 成员4：地图系统基础框架
- 成员5：怪物AI与战斗系统原型

### 第2-3天
- 成员1：核心游戏逻辑整合、资源管理系统
- 成员2：游戏界面完善（战斗/背包/升级面板）
- 成员3：武器进化系统实现
- 成员4：地图加载与传送机制
- 成员5：怪物生成与波次系统

### 第4-5天
- 成员1：BOSS战机制设计与实现
- 成员2：UI交互优化与动画效果
- 成员3：武器特效与攻击判定优化
- 成员4：副本随机生成系统
- 成员5：防御塔系统与伤害判定

### 第6-7天
- 全员：功能测试与BUG修复
- 成员1：性能优化与游戏平衡调整
- 成员2：UI美化与操作体验优化
- 成员3：武器平衡性调整
- 成员4：关卡难度曲线优化
- 成员5：怪物AI行为优化

### 第8天
- 全员：最终测试与问题修复
- 成员1：项目文档整理与部署
- 其他成员：各自模块文档编写

## 测试计划
### 功能测试
- 武器进化系统是否正常工作
- 地图传送机制是否稳定
- 怪物波次生成是否符合预期
- BOSS战机制是否正常

### 性能测试
- 大量怪物同时出现时的帧率表现
- 地图切换时的加载速度
- 技能特效密集时的性能

### 平衡性测试
- 武器进化路径的平衡性
- 关卡难度曲线是否合理
- 资源获取速度与升级需求的匹配度

## 风险与应对措施
### 时间风险
- 8天工期紧张，优先实现核心玩法，次要功能可简化

### 技术难点
- 随机地图生成和武器进化系统可能遇到困难，提前进行技术验证

### 质量风险
- 每日进行功能测试，及时发现并修复问题

### 范围风险
- 严格控制需求范围，避免中途添加新功能导致进度延误





# 项目所需包及接口总结

该文档围绕游戏项目开发，系统梳理了项目所需的核心包结构与关键接口设计，为游戏开发的模块划分、类定义及功能实现提供了清晰框架。

## 一、项目所需包：明确模块划分，覆盖游戏核心功能

包结构按游戏运行的核心流程与功能模块划分，各模块职责清晰且相互配合，构成游戏运行的基础框架。

1. **游戏主模块**：作为游戏整体的顶层分类，包含启动、资源、UI、逻辑、数据5大核心子模块，覆盖从游戏启动到数据存储的全流程。

2. **资源管理模块（ResourceManager）**：专注于游戏资源的加载与管理，具体涵盖：
   - 图片加载（保障游戏视觉资源调用）
   - 音效管理（控制游戏音频输出）
   - 配置读取（获取游戏基础参数配置）

3. **UI模块（UISystem）**：负责游戏用户界面的管理与呈现，包含：
   - 界面管理器（统筹各界面切换与状态）
   - 各场景界面（对应游戏不同场景的可视化界面）
   - 交互控件（支持玩家与界面的操作交互）

4. **游戏逻辑模块（GameLogic）**：是游戏核心玩法的实现载体，包含：
   - 角色系统（管理玩家角色属性与行为）
   - 武器系统（控制武器相关逻辑）
   - 地图系统（处理游戏地图生成与状态）
   - 怪物系统（管理怪物属性与行为）
   - 战斗系统（实现战斗机制与流程）

5. **数据存储模块（DataStorage）**：承担游戏数据的持久化存储功能，具体负责：
   - 游戏存档（保存玩家游戏进度）
   - 配置数据（存储游戏基础配置信息）

6. **核心类设计**：提炼游戏开发中的关键基础类，包括：
   - 实体基类（定义所有游戏实体的通用属性与方法）
   - 场景容器（管理场景切换与场景内实体）
   - 资源管理器（加载资源的具体实现类）
   - 游戏主循环（控制游戏运行的帧循环）
   - 输入处理（接收和处理玩家输入）
   - 碰撞检测（判断实体间是否发生碰撞）
   - 波次管理器（控制怪物波次生成）
   - 武器基类（定义武器通用属性和方法）
   - 武器升级管理器（处理武器升级逻辑）
   - 难度计算器（动态调整游戏难度）

## 二、项目接口设计：定义类的属性与方法，规范功能实现标准

接口设计围绕核心类展开，明确了每个类的核心属性（存储类的关键数据）与方法（实现类的核心功能），为类的代码编写提供具体规范。

1. **实体基类（Entity）**
   - 属性：x, y（坐标）、width, height（尺寸）、hp（生命值）、isAlive（存活状态）
   - 方法：update()（更新位置）、render()（绘制自身）、takeDamage(amount)（受击处理）

2. **场景与循环相关接口**
   - 场景容器（SceneManager）：switchScene(scene)（切换场景）、update()（更新场景内所有实体）、render()（渲染场景内所有实体）
   - 游戏主循环（GameLoop）：start()（启动游戏循环）、stop()（停止游戏循环）

3. **资源与输入相关接口**
   - 资源管理器（ResourceLoader）：getImage(name)（获取图片资源）、getSound(name)（获取音效资源）
   - 输入处理（InputHandler）：handleInput()（处理键盘和鼠标输入）

4. **战斗与怪物相关接口**
   - 波次管理器（WaveManager）：startWave()（开始新波次）、generateMonsters()（生成怪物）
   - 碰撞检测（CollisionDetector）：detectCollision(entity1, entity2)（检测两个实体是否碰撞）

5. **武器与难度相关接口**
   - 武器基类（Weapon）：
     - 属性：attackPower（攻击力）、attackRange（攻击范围）、attackInterval（攻击间隔）
     - 方法：attack(target)（攻击方法）
   - 武器升级管理器（UpgradeManager）：upgrade(weapon, branch)（升级武器）
   - 难度计算器（DifficultyCalculator）：calculateDifficulty()（根据玩家数量和波次调整怪物属性）
